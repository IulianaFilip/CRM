{% extends "base.html" %}

{% block content %}
  <!-- Bootstrap CSS is assumed to be included in base.html -->
  <div class="menu">
    <form class="search-form" role="search">
      <input class="search-form__input form-control"
             type="search"
             placeholder="Search"
             aria-label="Search" />
    </form>
    <nav class="nav nav-pills flex-column">
      <a class="nav-link"
         id="nav-leads-tab"
         data-toggle="tab"
         href="#leadsTable"
         role="tab"
         aria-controls="leadsTable"
         aria-selected="false">
        <svg xmlns="http://www.w3.org/2000/svg"
             width="16"
             height="16"
             fill="currentColor"
             class="bi bi-bullseye"
             viewBox="0 0 16 16">
          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
          <path d="M8 13A5 5 0 1 1 8 3a5 5 0 0 1 0 10m0 1A6 6 0 1 0 8 2a6 6 0 0 0 0 12" />
          <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8" />
          <path d="M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" />
        </svg>
        Leads
      </a>
      <a class="nav-link"
         id="nav-contacts-tab"
         data-toggle="tab"
         href="#contactsTable"
         role="tab"
         aria-controls="contactsTable"
         aria-selected="false">
        <svg xmlns="http://www.w3.org/2000/svg"
             width="16"
             height="16"
             fill="currentColor"
             class="bi bi-person-circle"
             viewBox="0 0 16 16">
          <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
          <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1" />
        </svg>
        Contacts
      </a>
      <a class="nav-link"
         id="nav-accounts-tab"
         data-toggle="tab"
         href="#accountsTable"
         role="tab"
         aria-controls="accountsTable"
         aria-selected="false">
        <svg xmlns="http://www.w3.org/2000/svg"
             width="16"
             height="16"
             fill="currentColor"
             class="bi bi-building"
             viewBox="0 0 16 16">
          <path d="M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z" />
          <path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3z" />
        </svg>
        Accounts
      </a>
      <a class="nav-link"
         id="nav-deals-tab"
         data-toggle="tab"
         href="#dealsTable"
         role="tab"
         aria-controls="dealsTable"
         aria-selected="false">
        <svg xmlns="http://www.w3.org/2000/svg"
             width="16"
             height="16"
             fill="currentColor"
             class="bi bi-currency-dollar"
             viewBox="0 0 16 16">
          <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z" />
        </svg>
        Deals
      </a>
      <a class="nav-link"
         id="nav-dashboard-tab"
         data-toggle="tab"
         href="#userChart"
         role="tab"
         aria-controls="dashboard"
         aria-selected="false">
        <svg xmlns="http://www.w3.org/2000/svg"
             width="16"
             height="16"
             fill="currentColor"
             class="bi bi-bar-chart-line-fill"
             viewBox="0 0 16 16">
          <path d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1z" />
        </svg>
        Dashboard
      </a>
    </nav>
  </div>
  <div class="content">
    <!-- Leads Table -->
    <div id="leadsTable" class="table-responsive">
      <h2>Leads</h2>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Lead</th>
            <th scope="col">Status</th>
            <th scope="col">Email</th>
            <th scope="col">Phone</th>
            <th scope="col">Owner</th>
          </tr>
        </thead>
        <tbody>
          {% for lead in leads %}
            <tr>
              <td>{{ lead.lead }}</td>
              <td>{{ lead.get_status_display }}</td>
              <td>{{ lead.email }}</td>
              <td>{{ lead.phone }}</td>
              <td>{{ lead.owner }}</td>
              <td></td>
            </tr>
          {% endfor %}
          <tr>
            <td>
              <input type="text" class="form-control" placeholder="Add Lead" />
            </td>
            <td>
              <div class="custom-select">
                <select class="custom-select__content" id="newLeadStatus">
                  <option selected>Choose...</option>
                  <option value="New">New</option>
                  <option value="Contacted">Contacted</option>
                  <option value="Converted">Converted</option>
                  <option value="Lost">Lost</option>
                </select>
              </div>
            </td>
            <td>
              <input type="email" class="form-control" placeholder="Email" />
            </td>
            <td>
              <input type="tel" class="form-control" placeholder="Phone" />
            </td>
            <td>
              <input type="text" class="form-control" placeholder="Owner" />
            </td>
            <td>
              <button type="submit" class="btn btn-primary">Save</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- Contacts Table -->
    <div id="contactsTable" class="table-responsive d-none">
      <h2>Contacts</h2>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Contact</th>
            <th scope="col">Email</th>
            <th scope="col">Phone</th>
            <th scope="col">Priority</th>
          </tr>
        </thead>
        <tbody>
          {% for contact in contacts %}
            <tr>
              <td>{{ contact.contact }}</td>
              <td>{{ contact.email }}</td>
              <td>{{ contact.phone }}</td>
              <td>{{ contact.get_priority_display }}</td>
            </tr>
          {% endfor %}
          <tr>
            <td>
              <input type="text" class="form-control" placeholder="Add Contact" />
            </td>
            <td>
              <input type="email" class="form-control" placeholder="Email" />
            </td>
            <td>
              <input type="tel" class="form-control" placeholder="Phone" />
            </td>
            <td>
              <div class="custom-select">
                <select class="custom-select__content" id="newContactPriority">
                  <option selected>Choose...</option>
                  <option value="Low">Low</option>
                  <option value="Medium">Medium</option>
                  <option value="High">High</option>
                </select>
              </div>
            </td>
            <td>
              <button type="submit" class="btn btn-primary">Save</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- Accounts Table -->
    <div id="accountsTable" class="table-responsive d-none">
      <h2>Accounts</h2>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Account</th>
            <th scope="col">Email</th>
            <th scope="col">Phone</th>
          </tr>
        </thead>
        <tbody>
          {% for account in accounts %}
            <tr>
              <td>{{ account.account }}</td>
              <td>{{ account.email }}</td>
              <td>{{ account.phone }}</td>
            </tr>
          {% endfor %}
          <tr>
            <td>
              <input type="text" class="form-control" placeholder="Add Account" />
            </td>
            <td>
              <input type="email" class="form-control" placeholder="Email" />
            </td>
            <td>
              <input type="tel" class="form-control" placeholder="Phone" />
            </td>
            <td>
              <button type="submit" class="btn btn-primary">Save</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- Deals Table -->
    <div id="dealsTable" class="table-responsive d-none">
      <h2>Deals</h2>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Deal</th>
            <th scope="col">Owner</th>
            <th scope="col">Contact</th>
            <th scope="col">Account</th>
            <th scope="col">Stage</th>
            <th scope="col">Value</th>
          </tr>
        </thead>
        <tbody>
          {% for deal in deals %}
            <tr>
              <td>{{ deal.deal }}</td>
              <td>{{ deal.owner }}</td>
              <td>{{ deal.contact }}</td>
              <td>{{ deal.account }}</td>
              <td>{{ deal.get_stage_display }}</td>
              <td>{{ deal.value }}</td>
            </tr>
          {% endfor %}
          <tr>
            <td>
              <input type="text" class="form-control" placeholder="Add Deal" />
            </td>
            <td>
              <input type="text" class="form-control" placeholder="Owner" />
            </td>
            <td>
              <input type="text" class="form-control" placeholder="Contact" />
            </td>
            <td>
              <input type="text" class="form-control" placeholder="Account" />
            </td>
            <td>
              <div class="custom-select">
                <select class="custom-select__content" id="newDealStage">
                  <option selected>Choose...</option>
                  <option value="Discovery">Discovery</option>
                  <option value="Proposal">Proposal</option>
                  <option value="Negotiation">Negotiation</option>
                </select>
              </div>
            </td>
            <td>
              <button type="submit" class="btn btn-primary">Save</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div>
        <div id="userChart" class="d-none">
          <img src="{{ chart_url }}" alt="User Registrations Chart" />
        </div>
      </div>
    </div>
  </div>
{% endblock content %}
